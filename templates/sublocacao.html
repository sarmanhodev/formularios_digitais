<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Formulário Sublocação</title>
    <!--JQUERY-->
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>

    <link rel="stylesheet" href="../static/js/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.10/jquery.mask.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!--JAVASCRIPT-->
    <script src="../static/js/functions.js"></script>
</head>

<body>
    <div class="container">
        <h1 class="text-center m-1 text-white">Formulário de Sublocação</h1>
        <br>
        <form action="{{url_for('gera_formulario')}}" method="post">
            <div class="row m-1">
                <!--INICIO DADOS SUBLOCADOR-->
                <div class="col-md-5 m-1 card_deal">
                    <h4 class="text-center">Dados Sublocador</h4>
                    <div class="row g-2">
                        <div class="col-10">
                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input type="text" class="form-control text-uppercase" required id="nome_sublocador"
                                        name="nome_sublocador" onkeyup="getDados()" placeholder="Nome Sublocador">
                                    <label for="nome_sublocador">Nome Sublocador</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row g-2">
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control" required name="rg_sublocador" id="rg"
                                    placeholder="RG">
                                <label for="rg">RG</label>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control" required name="cpf_sublocador" id="cpf"
                                    placeholder="CPF">
                                <label for="cpf">CPF</label>
                            </div>
                        </div>
                    </div>
                    <br>

                    <!--ROW CEP E DADOS DA MORADIA-->
                    <div class="row g-2">
                        <div class="col-auto">
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="basic-addon1">CEP</span>
                                <input type="text" name="cep_sublocador" id="entrada_cep" class="form-control" required
                                    onkeyup="renderCepSublocador()" aria-label="CEP" aria-describedby="basic-addon1">
                                <button class="btn btn-success" type="button" id="btnrenderCeppyth" title="Busca CEP"><i
                                        class="bi bi-search"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="row" id="recebe_dados"> </div>
                </div>
                <!--FIM DADOS LOCADOR-->

                <!--INÍCIO DADOS SUBLOCATÁRIO-->
                <div class="col-md-5 m-1 card_deal">
                    <h4 class="text-center">Dados Sublocatário</h4>
                    <div class="row g-2">
                        <div class="col-10">
                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input type="text" class="form-control text-uppercase" id="nome_sublocatario"
                                        name="nome_sublocatario" required onkeyup="getDados()"
                                        placeholder="Nome Sublocatário">
                                    <label for="nome_sublocatario">Nome Sublocatário</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row g-2">
                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control" name="rg_sublocatario" id="rg_sublocatario"
                                    required placeholder="RG">
                                <label for="rg_sublocatario">RG</label>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-floating">
                                <input type="text" class="form-control" name="cpf_sublocatario" required
                                    id="cpf_sublocatario" placeholder="CPF">
                                <label for="cpf_sublocatario">CPF</label>
                            </div>
                        </div>
                    </div>
                    <br>
                    <!--ROW CEP E DADOS DA MORADIA-->
                    <div class="row">
                        <div class="col-auto">
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="basic-addon1">CEP</span>
                                <input type="text" name="cep_sublocatario" required id="entrada_cep_sublocatario"
                                    onkeyup="renderCepSublocatario()" class="form-control" aria-label="CEP"
                                    aria-describedby="basic-addon1">
                                <button class="btn btn-success" type="button" id="btnrenderCeppyth" title="Busca CEP"><i
                                        class="bi bi-search"></i></button>
                            </div>
                        </div>

                        <div class="row" id="recebe_dados_sublocatario"> </div>

                    </div>
                </div>
                <!--FINAL DADOS SUBLOCATÁRIO-->
            </div>

            <br>
            <!--INÍCIO ROW CLÁUSULAS-->
            <div class="row m-1">
                <!--INÍCIO DADOS IMÓVEL-->
                <div class="col-md-5 m-1 card_deal">
                    <h4 class="text-center">Dados Cláusula Primeira - Do Objeto</h4>
                    <div class="row">
                        <div class="col-md">
                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input type="text" id="sublocador" placeholder="Nome Sublocador" required
                                        name="imovel_sublocador" class="form-control text-uppercase" readonly>
                                    <label for="sublocador">Nome Sublocador</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md">
                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input type="text" id="sublocatario" placeholder="Nome Sublocatario" required
                                        name="imovel_sublocatario" class="form-control text-uppercase" readonly>
                                    <label for="sublocatario">Nome Sublocatario</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--ROW CEP E DADOS DA MORADIA-->
                    <div class="row">
                        <div class="col-auto">
                            <div class="input-group mb-3">
                                <span class="input-group-text" id="basic-addon1">CEP</span>
                                <input type="text" name="cep_imovel" id="entrada_cep_imovel" required
                                    class="form-control" onkeyup="renderCepImovel()" aria-label="CEP"
                                    aria-describedby="basic-addon1">
                                <button class="btn btn-success" type="button" id="btnrenderCeppyth" title="Busca CEP"><i
                                        class="bi bi-search"></i></button>
                            </div>
                        </div>

                        <div class="row" id="recebe_dados_imovel"> </div>

                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input type="date" id="calendario" name="data_locacao" required
                                        class="form-control text-uppercase">
                                    <label for="calendario">Data</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input type="text" name="atuacao_profissional" required
                                        class="form-control text-uppercase" id="atuacao_profissional"
                                        placeholder="Atuação Profissional">
                                    <label for="atuacao_profissional">Atuação Profissional</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--FIM DADOS IMÓVEL-->

                <div class="col-md-5 m-1 card_deal">
                    <div class="row">
                        <h5 class="text-center">Dados Cláusula Segunda - Do Valor Pelo Dia Utilizado</h5>
                        <div class="col-md-6">
                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input type="text" required class="form-control text-uppercase" name="valor_aluguel"
                                        id="pagamento" placeholder="Valor Aluguel">
                                    <label for="pagamento">Valor Aluguel</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input type="number" id="data_pagamento" placeholder="Dia do Pagamento" required
                                        name="dia_pagamento" class="form-control text-uppercase">
                                    <label for="data_pagamento">Dia do Pagamento</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <h4 class="text-center">Dados Cláusula Sexta - Do Prazo</h4>
                        <div class="col-md-6">
                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input type="date" id="inicio_prazo" required name="inicio_prazo"
                                        class="form-control text-uppercase">
                                    <label for="inicio_prazo" class="text-danger fw-bold">Início do Prazo</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input type="date" id="termino_prazo" required name="termino_prazo"
                                        class="form-control text-uppercase">
                                    <label for="termino_prazo" class="text-danger fw-bold">Término do Prazo</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <h4 class="text-center">Cláusula Oitava - Do Foro</h4>
                        <div class="col-md-6">
                            <div class="input-group mb-3">
                                <div class="form-floating ui-widget">
                                    <input type="text" name="estado_foro" placeholder="Estado" required
                                        class="form-control" id="estado">
                                    <label for="estado">Estado</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="input-group mb-3">
                                <div class="form-floating ui-widget">
                                    <input type="text" name="uf_foro" placeholder="UF" required onkeyup="verifica_campo()"
                                        class="form-control text-uppercase" id="sigla_uf">
                                    <label for="sigla_uf">UF</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <!--INÍCIO ROW CLÁUSULAS-->
            <div class="row m-1" >
                <div class="col-auto">
                    <button class="btn btn-danger card_deal" type="reset">Limpar Campos</button>
                </div>
                <div class="col-auto" id="insere_btn">
                    
                </div>
            </div>
            <br>
            <div class="row" hidden id="data">
                <!--RECEBE A DATA ATUAL-->

            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        body {
            background-color: #2F4F4F;
        }

        form {
            color: white;
        }

        label {
            color: black;
        }

        .card_deal {
            box-shadow: rgba(0, 0, 0, 0.50) 0px 3px 8px;
            border-radius: 5px;
        }

        .ui-autocomplete {
            max-height: 100px;
            overflow-y: auto;
            /* prevent horizontal scrollbar */
            overflow-x: hidden;
        }

        /* IE 6 doesn't support max-height
   * we use height instead, but this forces the menu to always be this tall
   */
        * html .ui-autocomplete {
            height: 100px;
        }
    </style>

    <script>
        //MÁSCARA PARA CPF SUBLOCADOR
        var options = {
            onKeyPress: function (cpf, ev, el, op) {
                var masks = ['000.000.000-000', '00.000.000/0000-00'];
                $('#cpf').mask((cpf.length > 14) ? masks[1] : masks[0], op);
            }
        }

        $('#cpf').length > 12 ? $('#cpf').mask('00.000.000/0000-00', options) : $('#cpf').mask('000.000.000-00', options);

        

        //MÁSCARA PARA CPF SUBLOCATARIO
        var options = {
            onKeyPress: function (cpf, ev, el, op) {
                var masks = ['000.000.000-000', '00.000.000/0000-00'];
                $('#cpf_sublocatario').mask((cpf.length > 14) ? masks[1] : masks[0], op);
            }
        }

        $('#cpf_sublocatario').length > 12 ? $('#cpf').mask('00.000.000/0000-00', options) : $('#cpf_sublocatario').mask('000.000.000-00', options);

        

        $(function () {
            var availableTags = ["Acre", "Alagoas", "Amapá", 'Amazonas', "Bahia", "Ceará", "Espírito Santo",
                "Goiás", "Maranhão", "Mato Grosso", "Mato Grosso do Sul", "Minas Gerais", "Pará",
                "Paraíba", "Paraná", "Pernambuco", "Piauí", "Rio de Janeiro", "Rio Grande do Norte",
                "Rio Grande do Sul", "Rondônia", "Roraima", "Santa Catarina", "São Paulo", "Sergipe",
                "Tocantins", "Distrito Federal"];
            $("#estado").autocomplete({
                source: availableTags
            });
        });


        const month = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];
        var d = new Date();
        let mes = month[d.getMonth()];
        var data_atual = d.getDate() + " de " + mes + " de " + d.getFullYear();
        $("#data").html(`<input type='text' name='data_atual' value='Rio de Janeiro, ${data_atual}'>`);
        console.log(data_atual);

    </script>
</body>

</html>